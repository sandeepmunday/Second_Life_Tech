{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"filename\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _config = _interopRequireDefault(require(\"./config\"));\nvar _userRoute = _interopRequireDefault(require(\"./routes/userRoute\"));\nvar _productRoute = _interopRequireDefault(require(\"./routes/productRoute\"));\nvar _orderRoute = _interopRequireDefault(require(\"./routes/orderRoute\"));\nvar _uploadRoute = _interopRequireDefault(require(\"./routes/uploadRoute\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst mongodbUrl = _config.default.MONGODB_URL;\n_mongoose.default.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true,\n  family: 4\n}).catch(error => console.log(error.reason));\nconst app = (0, _express.default)();\napp.use(_bodyParser.default.json());\napp.use('/api/uploads', _uploadRoute.default);\napp.use('/api/users', _userRoute.default);\napp.use('/api/products', _productRoute.default);\napp.use('/api/orders', _orderRoute.default);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(_config.default.PAYPAL_CLIENT_ID);\n});\napp.use('/uploads', _express.default.static(_path.default.join(__dirname, '/../uploads')));\napp.use(_express.default.static(_path.default.join(__dirname, '/../frontend/build')));\napp.get('*', (req, res) => {\n  res.sendFile(_path.default.join(`${__dirname}/../frontend/build/index.html`));\n});\napp.listen(_config.default.PORT, () => {\n  console.log('Server started at http://localhost:5000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3BhdGgiLCJfbW9uZ29vc2UiLCJfYm9keVBhcnNlciIsIl9jb25maWciLCJfdXNlclJvdXRlIiwiX3Byb2R1Y3RSb3V0ZSIsIl9vcmRlclJvdXRlIiwiX3VwbG9hZFJvdXRlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJtb25nb2RiVXJsIiwiY29uZmlnIiwiTU9OR09EQl9VUkwiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VDcmVhdGVJbmRleCIsImZhbWlseSIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicmVhc29uIiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImJvZHlQYXJzZXIiLCJqc29uIiwidXBsb2FkUm91dGUiLCJ1c2VyUm91dGUiLCJwcm9kdWN0Um91dGUiLCJvcmRlclJvdXRlIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsIlBBWVBBTF9DTElFTlRfSUQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInNlbmRGaWxlIiwibGlzdGVuIiwiUE9SVCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxIUFxcT25lRHJpdmVcXERlc2t0b3BcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlciAoMSlcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlclxcYmFja2VuZFxcIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xyXG5pbXBvcnQgdXNlclJvdXRlIGZyb20gJy4vcm91dGVzL3VzZXJSb3V0ZSc7XHJcbmltcG9ydCBwcm9kdWN0Um91dGUgZnJvbSAnLi9yb3V0ZXMvcHJvZHVjdFJvdXRlJztcclxuaW1wb3J0IG9yZGVyUm91dGUgZnJvbSAnLi9yb3V0ZXMvb3JkZXJSb3V0ZSc7XHJcbmltcG9ydCB1cGxvYWRSb3V0ZSBmcm9tICcuL3JvdXRlcy91cGxvYWRSb3V0ZSc7XHJcblxyXG5cclxuY29uc3QgbW9uZ29kYlVybCA9IGNvbmZpZy5NT05HT0RCX1VSTDtcclxubW9uZ29vc2VcclxuICAuY29ubmVjdChtb25nb2RiVXJsLCB7XHJcbiAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXHJcbiAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICB1c2VDcmVhdGVJbmRleDogdHJ1ZSxcclxuICAgIGZhbWlseTogNCxcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yLnJlYXNvbikpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuYXBwLnVzZSgnL2FwaS91cGxvYWRzJywgdXBsb2FkUm91dGUpO1xyXG5hcHAudXNlKCcvYXBpL3VzZXJzJywgdXNlclJvdXRlKTtcclxuYXBwLnVzZSgnL2FwaS9wcm9kdWN0cycsIHByb2R1Y3RSb3V0ZSk7XHJcbmFwcC51c2UoJy9hcGkvb3JkZXJzJywgb3JkZXJSb3V0ZSk7XHJcbmFwcC5nZXQoJy9hcGkvY29uZmlnL3BheXBhbCcsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kKGNvbmZpZy5QQVlQQUxfQ0xJRU5UX0lEKTtcclxufSk7XHJcbmFwcC51c2UoJy91cGxvYWRzJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy8uLi91cGxvYWRzJykpKTtcclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLy4uL2Zyb250ZW5kL2J1aWxkJykpKTtcclxuYXBwLmdldCgnKicsIChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oYCR7X19kaXJuYW1lfS8uLi9mcm9udGVuZC9idWlsZC9pbmRleC5odG1sYCkpO1xyXG59KTtcclxuXHJcbmFwcC5saXN0ZW4oY29uZmlnLlBPUlQsICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnU2VydmVyIHN0YXJ0ZWQgYXQgaHR0cDovL2xvY2FsaG9zdDo1MDAwJyk7XHJcbn0pO1xyXG5cclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFNBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFdBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLFVBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLGFBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLFdBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLFlBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUErQyxTQUFBRCx1QkFBQVUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUcvQyxNQUFNRyxVQUFVLEdBQUdDLGVBQU0sQ0FBQ0MsV0FBVztBQUNyQ0MsaUJBQVEsQ0FDTEMsT0FBTyxDQUFDSixVQUFVLEVBQUU7RUFDbkJLLGVBQWUsRUFBRSxJQUFJO0VBQ3JCQyxrQkFBa0IsRUFBRSxJQUFJO0VBQ3hCQyxjQUFjLEVBQUUsSUFBSTtFQUNwQkMsTUFBTSxFQUFFO0FBQ1YsQ0FBQyxDQUFDLENBQ0RDLEtBQUssQ0FBRUMsS0FBSyxJQUFLQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDRyxNQUFNLENBQUMsQ0FBQztBQUU5QyxNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQ0MsbUJBQVUsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUMxQkosR0FBRyxDQUFDRSxHQUFHLENBQUMsY0FBYyxFQUFFRyxvQkFBVyxDQUFDO0FBQ3BDTCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxZQUFZLEVBQUVJLGtCQUFTLENBQUM7QUFDaENOLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLGVBQWUsRUFBRUsscUJBQVksQ0FBQztBQUN0Q1AsR0FBRyxDQUFDRSxHQUFHLENBQUMsYUFBYSxFQUFFTSxtQkFBVSxDQUFDO0FBQ2xDUixHQUFHLENBQUNTLEdBQUcsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxQ0EsR0FBRyxDQUFDQyxJQUFJLENBQUN6QixlQUFNLENBQUMwQixnQkFBZ0IsQ0FBQztBQUNuQyxDQUFDLENBQUM7QUFDRmIsR0FBRyxDQUFDRSxHQUFHLENBQUMsVUFBVSxFQUFFRCxnQkFBTyxDQUFDYSxNQUFNLENBQUNDLGFBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQztBQUN4RWpCLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDYSxNQUFNLENBQUNDLGFBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEVBQUUsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO0FBQ25FakIsR0FBRyxDQUFDUyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3pCQSxHQUFHLENBQUNPLFFBQVEsQ0FBQ0gsYUFBSSxDQUFDQyxJQUFJLENBQUUsR0FBRUMsU0FBVSwrQkFBOEIsQ0FBQyxDQUFDO0FBQ3RFLENBQUMsQ0FBQztBQUVGakIsR0FBRyxDQUFDbUIsTUFBTSxDQUFDaEMsZUFBTSxDQUFDaUMsSUFBSSxFQUFFLE1BQU07RUFDNUJ2QixPQUFPLENBQUNDLEdBQUcsQ0FBQyx5Q0FBeUMsQ0FBQztBQUN4RCxDQUFDLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_path","_mongoose","_bodyParser","_config","_userRoute","_productRoute","_orderRoute","_uploadRoute","obj","__esModule","default","mongodbUrl","config","MONGODB_URL","mongoose","connect","useNewUrlParser","useUnifiedTopology","useCreateIndex","family","catch","error","console","log","reason","app","express","use","bodyParser","json","uploadRoute","userRoute","productRoute","orderRoute","get","req","res","send","PAYPAL_CLIENT_ID","static","path","join","__dirname","sendFile","listen","PORT"],"sourceRoot":"C:\\Users\\HP\\OneDrive\\Desktop\\node-react-ecommerce-master (1)\\node-react-ecommerce-master\\backend\\","sources":["server.js"],"sourcesContent":["import express from 'express';\r\nimport path from 'path';\r\nimport mongoose from 'mongoose';\r\nimport bodyParser from 'body-parser';\r\nimport config from './config';\r\nimport userRoute from './routes/userRoute';\r\nimport productRoute from './routes/productRoute';\r\nimport orderRoute from './routes/orderRoute';\r\nimport uploadRoute from './routes/uploadRoute';\r\n\r\n\r\nconst mongodbUrl = config.MONGODB_URL;\r\nmongoose\r\n  .connect(mongodbUrl, {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true,\r\n    useCreateIndex: true,\r\n    family: 4,\r\n  })\r\n  .catch((error) => console.log(error.reason));\r\n\r\nconst app = express();\r\napp.use(bodyParser.json());\r\napp.use('/api/uploads', uploadRoute);\r\napp.use('/api/users', userRoute);\r\napp.use('/api/products', productRoute);\r\napp.use('/api/orders', orderRoute);\r\napp.get('/api/config/paypal', (req, res) => {\r\n  res.send(config.PAYPAL_CLIENT_ID);\r\n});\r\napp.use('/uploads', express.static(path.join(__dirname, '/../uploads')));\r\napp.use(express.static(path.join(__dirname, '/../frontend/build')));\r\napp.get('*', (req, res) => {\r\n  res.sendFile(path.join(`${__dirname}/../frontend/build/index.html`));\r\n});\r\n\r\napp.listen(config.PORT, () => {\r\n  console.log('Server started at http://localhost:5000');\r\n});\r\n\r\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,SAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,WAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,UAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,aAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,WAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,YAAA,GAAAT,sBAAA,CAAAC,OAAA;AAA+C,SAAAD,uBAAAU,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAG/C,MAAMG,UAAU,GAAGC,eAAM,CAACC,WAAW;AACrCC,iBAAQ,CACLC,OAAO,CAACJ,UAAU,EAAE;EACnBK,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE,IAAI;EACxBC,cAAc,EAAE,IAAI;EACpBC,MAAM,EAAE;AACV,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,MAAM,CAAC,CAAC;AAE9C,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAACC,mBAAU,CAACC,IAAI,CAAC,CAAC,CAAC;AAC1BJ,GAAG,CAACE,GAAG,CAAC,cAAc,EAAEG,oBAAW,CAAC;AACpCL,GAAG,CAACE,GAAG,CAAC,YAAY,EAAEI,kBAAS,CAAC;AAChCN,GAAG,CAACE,GAAG,CAAC,eAAe,EAAEK,qBAAY,CAAC;AACtCP,GAAG,CAACE,GAAG,CAAC,aAAa,EAAEM,mBAAU,CAAC;AAClCR,GAAG,CAACS,GAAG,CAAC,oBAAoB,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC1CA,GAAG,CAACC,IAAI,CAACzB,eAAM,CAAC0B,gBAAgB,CAAC;AACnC,CAAC,CAAC;AACFb,GAAG,CAACE,GAAG,CAAC,UAAU,EAAED,gBAAO,CAACa,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,aAAa,CAAC,CAAC,CAAC;AACxEjB,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACa,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,oBAAoB,CAAC,CAAC,CAAC;AACnEjB,GAAG,CAACS,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACzBA,GAAG,CAACO,QAAQ,CAACH,aAAI,CAACC,IAAI,CAAE,GAAEC,SAAU,+BAA8B,CAAC,CAAC;AACtE,CAAC,CAAC;AAEFjB,GAAG,CAACmB,MAAM,CAAChC,eAAM,CAACiC,IAAI,EAAE,MAAM;EAC5BvB,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC;AACxD,CAAC,CAAC"}},"mtime":1688310139637},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"filename\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZG90ZW52IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImRvdGVudiIsImNvbmZpZyIsIl9kZWZhdWx0IiwiUE9SVCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSTCIsIkpXVF9TRUNSRVQiLCJQQVlQQUxfQ0xJRU5UX0lEIiwiYWNjZXNzS2V5SWQiLCJzZWNyZXRBY2Nlc3NLZXkiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEhQXFxPbmVEcml2ZVxcRGVza3RvcFxcbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyICgxKVxcbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyXFxiYWNrZW5kXFwiLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XHJcblxyXG5kb3RlbnYuY29uZmlnKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgUE9SVDogcHJvY2Vzcy5lbnYuUE9SVCB8fCA1MDAwLFxyXG4gIE1PTkdPREJfVVJMOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9hbWF6b25hJyxcclxuICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdzb21ldGhpbmdzZWNyZXQnLFxyXG4gIFBBWVBBTF9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LlBBWVBBTF9DTElFTlRfSUQgfHwgJ3NiJyxcclxuICBhY2Nlc3NLZXlJZDogcHJvY2Vzcy5lbnYuYWNjZXNzS2V5SWQgfHwgJ2FjY2Vzc0tleUlkJyxcclxuICBzZWNyZXRBY2Nlc3NLZXk6IHByb2Nlc3MuZW52LnNlY3JldEFjY2Vzc0tleSB8fCAnc2VjcmV0QWNjZXNzS2V5JyxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNEIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFNUJHLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRUQ7RUFDYkMsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsSUFBSSxJQUFJLElBQUk7RUFDOUJHLFdBQVcsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsSUFBSSw2QkFBNkI7RUFDckVDLFVBQVUsRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFVBQVUsSUFBSSxpQkFBaUI7RUFDdkRDLGdCQUFnQixFQUFFSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0csZ0JBQWdCLElBQUksSUFBSTtFQUN0REMsV0FBVyxFQUFFTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ksV0FBVyxJQUFJLGFBQWE7RUFDckRDLGVBQWUsRUFBRU4sT0FBTyxDQUFDQyxHQUFHLENBQUNLLGVBQWUsSUFBSTtBQUNsRCxDQUFDO0FBQUFDLE9BQUEsQ0FBQVosT0FBQSxHQUFBRyxRQUFBIn0=","map":{"version":3,"names":["_dotenv","_interopRequireDefault","require","obj","__esModule","default","dotenv","config","_default","PORT","process","env","MONGODB_URL","JWT_SECRET","PAYPAL_CLIENT_ID","accessKeyId","secretAccessKey","exports"],"sourceRoot":"C:\\Users\\HP\\OneDrive\\Desktop\\node-react-ecommerce-master (1)\\node-react-ecommerce-master\\backend\\","sources":["config.js"],"sourcesContent":["import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n  PORT: process.env.PORT || 5000,\r\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\r\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\r\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\r\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\r\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey',\r\n};\r\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5BG,eAAM,CAACC,MAAM,CAAC,CAAC;AAAC,IAAAC,QAAA,GAED;EACbC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACF,IAAI,IAAI,IAAI;EAC9BG,WAAW,EAAEF,OAAO,CAACC,GAAG,CAACC,WAAW,IAAI,6BAA6B;EACrEC,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACE,UAAU,IAAI,iBAAiB;EACvDC,gBAAgB,EAAEJ,OAAO,CAACC,GAAG,CAACG,gBAAgB,IAAI,IAAI;EACtDC,WAAW,EAAEL,OAAO,CAACC,GAAG,CAACI,WAAW,IAAI,aAAa;EACrDC,eAAe,EAAEN,OAAO,CAACC,GAAG,CAACK,eAAe,IAAI;AAClD,CAAC;AAAAC,OAAA,CAAAZ,OAAA,GAAAG,QAAA"}},"mtime":1688310139619},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"filename\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\routes\\\\userRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nvar _util = require(\"../util\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.put('/:id', _util.isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await _userModel.default.findById(userId);\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _util.getToken)(updatedUser)\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n});\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _util.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email or Password.'\n    });\n  }\n});\nrouter.post('/register', async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const newUser = await user.save();\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: (0, _util.getToken)(newUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid User Data.'\n    });\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Basir',\n      email: 'admin@example.com',\n      password: '1234',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      message: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VzZXJNb2RlbCIsIl91dGlsIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicHV0IiwiaXNBdXRoIiwicmVxIiwicmVzIiwidXNlcklkIiwicGFyYW1zIiwiaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlkIiwibmFtZSIsImJvZHkiLCJlbWFpbCIsInBhc3N3b3JkIiwidXBkYXRlZFVzZXIiLCJzYXZlIiwic2VuZCIsIl9pZCIsImlzQWRtaW4iLCJ0b2tlbiIsImdldFRva2VuIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJzaWduaW5Vc2VyIiwiZmluZE9uZSIsIm5ld1VzZXIiLCJnZXQiLCJlcnJvciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxIUFxcT25lRHJpdmVcXERlc2t0b3BcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlciAoMSlcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlclxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbCc7XHJcbmltcG9ydCB7IGdldFRva2VuLCBpc0F1dGggfSBmcm9tICcuLi91dGlsJztcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5yb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCB1c2VySWQgPSByZXEucGFyYW1zLmlkO1xyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHVzZXJJZCk7XHJcbiAgaWYgKHVzZXIpIHtcclxuICAgIHVzZXIubmFtZSA9IHJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lO1xyXG4gICAgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWw7XHJcbiAgICB1c2VyLnBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQgfHwgdXNlci5wYXNzd29yZDtcclxuICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICByZXMuc2VuZCh7XHJcbiAgICAgIF9pZDogdXBkYXRlZFVzZXIuaWQsXHJcbiAgICAgIG5hbWU6IHVwZGF0ZWRVc2VyLm5hbWUsXHJcbiAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcclxuICAgICAgaXNBZG1pbjogdXBkYXRlZFVzZXIuaXNBZG1pbixcclxuICAgICAgdG9rZW46IGdldFRva2VuKHVwZGF0ZWRVc2VyKSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5wb3N0KCcvc2lnbmluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgc2lnbmluVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XHJcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgfSk7XHJcbiAgaWYgKHNpZ25pblVzZXIpIHtcclxuICAgIHJlcy5zZW5kKHtcclxuICAgICAgX2lkOiBzaWduaW5Vc2VyLmlkLFxyXG4gICAgICBuYW1lOiBzaWduaW5Vc2VyLm5hbWUsXHJcbiAgICAgIGVtYWlsOiBzaWduaW5Vc2VyLmVtYWlsLFxyXG4gICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXHJcbiAgICAgIHRva2VuOiBnZXRUb2tlbihzaWduaW5Vc2VyKSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIEVtYWlsIG9yIFBhc3N3b3JkLicgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbnJvdXRlci5wb3N0KCcvcmVnaXN0ZXInLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xyXG4gICAgbmFtZTogcmVxLmJvZHkubmFtZSxcclxuICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcclxuICAgIHBhc3N3b3JkOiByZXEuYm9keS5wYXNzd29yZCxcclxuICB9KTtcclxuICBjb25zdCBuZXdVc2VyID0gYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgaWYgKG5ld1VzZXIpIHtcclxuICAgIHJlcy5zZW5kKHtcclxuICAgICAgX2lkOiBuZXdVc2VyLmlkLFxyXG4gICAgICBuYW1lOiBuZXdVc2VyLm5hbWUsXHJcbiAgICAgIGVtYWlsOiBuZXdVc2VyLmVtYWlsLFxyXG4gICAgICBpc0FkbWluOiBuZXdVc2VyLmlzQWRtaW4sXHJcbiAgICAgIHRva2VuOiBnZXRUb2tlbihuZXdVc2VyKSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFVzZXIgRGF0YS4nIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIuZ2V0KCcvY3JlYXRlYWRtaW4nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgbmFtZTogJ0Jhc2lyJyxcclxuICAgICAgZW1haWw6ICdhZG1pbkBleGFtcGxlLmNvbScsXHJcbiAgICAgIHBhc3N3b3JkOiAnMTIzNCcsXHJcbiAgICAgIGlzQWRtaW46IHRydWUsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcclxuICAgIHJlcy5zZW5kKG5ld1VzZXIpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFGLE9BQUE7QUFBMkMsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFM0MsTUFBTUcsTUFBTSxHQUFHQyxnQkFBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUUvQkYsTUFBTSxDQUFDRyxHQUFHLENBQUMsTUFBTSxFQUFFQyxZQUFNLEVBQUUsT0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDN0MsTUFBTUMsTUFBTSxHQUFHRixHQUFHLENBQUNHLE1BQU0sQ0FBQ0MsRUFBRTtFQUM1QixNQUFNQyxJQUFJLEdBQUcsTUFBTUMsa0JBQUksQ0FBQ0MsUUFBUSxDQUFDTCxNQUFNLENBQUM7RUFDeEMsSUFBSUcsSUFBSSxFQUFFO0lBQ1JBLElBQUksQ0FBQ0csSUFBSSxHQUFHUixHQUFHLENBQUNTLElBQUksQ0FBQ0QsSUFBSSxJQUFJSCxJQUFJLENBQUNHLElBQUk7SUFDdENILElBQUksQ0FBQ0ssS0FBSyxHQUFHVixHQUFHLENBQUNTLElBQUksQ0FBQ0MsS0FBSyxJQUFJTCxJQUFJLENBQUNLLEtBQUs7SUFDekNMLElBQUksQ0FBQ00sUUFBUSxHQUFHWCxHQUFHLENBQUNTLElBQUksQ0FBQ0UsUUFBUSxJQUFJTixJQUFJLENBQUNNLFFBQVE7SUFDbEQsTUFBTUMsV0FBVyxHQUFHLE1BQU1QLElBQUksQ0FBQ1EsSUFBSSxDQUFDLENBQUM7SUFDckNaLEdBQUcsQ0FBQ2Es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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_userModel","_util","obj","__esModule","default","router","express","Router","put","isAuth","req","res","userId","params","id","user","User","findById","name","body","email","password","updatedUser","save","send","_id","isAdmin","token","getToken","status","message","post","signinUser","findOne","newUser","get","error","_default","exports"],"sourceRoot":"C:\\Users\\HP\\OneDrive\\Desktop\\node-react-ecommerce-master (1)\\node-react-ecommerce-master\\backend\\routes\\","sources":["userRoute.js"],"sourcesContent":["import express from 'express';\r\nimport User from '../models/userModel';\r\nimport { getToken, isAuth } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.put('/:id', isAuth, async (req, res) => {\r\n  const userId = req.params.id;\r\n  const user = await User.findById(userId);\r\n  if (user) {\r\n    user.name = req.body.name || user.name;\r\n    user.email = req.body.email || user.email;\r\n    user.password = req.body.password || user.password;\r\n    const updatedUser = await user.save();\r\n    res.send({\r\n      _id: updatedUser.id,\r\n      name: updatedUser.name,\r\n      email: updatedUser.email,\r\n      isAdmin: updatedUser.isAdmin,\r\n      token: getToken(updatedUser),\r\n    });\r\n  } else {\r\n    res.status(404).send({ message: 'User Not Found' });\r\n  }\r\n});\r\n\r\nrouter.post('/signin', async (req, res) => {\r\n  const signinUser = await User.findOne({\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n  });\r\n  if (signinUser) {\r\n    res.send({\r\n      _id: signinUser.id,\r\n      name: signinUser.name,\r\n      email: signinUser.email,\r\n      isAdmin: signinUser.isAdmin,\r\n      token: getToken(signinUser),\r\n    });\r\n  } else {\r\n    res.status(401).send({ message: 'Invalid Email or Password.' });\r\n  }\r\n});\r\n\r\nrouter.post('/register', async (req, res) => {\r\n  const user = new User({\r\n    name: req.body.name,\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n  });\r\n  const newUser = await user.save();\r\n  if (newUser) {\r\n    res.send({\r\n      _id: newUser.id,\r\n      name: newUser.name,\r\n      email: newUser.email,\r\n      isAdmin: newUser.isAdmin,\r\n      token: getToken(newUser),\r\n    });\r\n  } else {\r\n    res.status(401).send({ message: 'Invalid User Data.' });\r\n  }\r\n});\r\n\r\nrouter.get('/createadmin', async (req, res) => {\r\n  try {\r\n    const user = new User({\r\n      name: 'Basir',\r\n      email: 'admin@example.com',\r\n      password: '1234',\r\n      isAdmin: true,\r\n    });\r\n    const newUser = await user.save();\r\n    res.send(newUser);\r\n  } catch (error) {\r\n    res.send({ message: error.message });\r\n  }\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"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"}},"mtime":1688310139776},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"filename\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\models\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n    index: true,\n    dropDups: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\nconst userModel = _mongoose.default.model('User', userSchema);\nvar _default = userModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwiaW5kZXgiLCJkcm9wRHVwcyIsInBhc3N3b3JkIiwiaXNBZG1pbiIsIkJvb2xlYW4iLCJ1c2VyTW9kZWwiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxIUFxcT25lRHJpdmVcXERlc2t0b3BcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlciAoMSlcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlclxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGVtYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6IHRydWUsIGluZGV4OiB0cnVlLCBkcm9wRHVwczogdHJ1ZSxcclxuICB9LFxyXG4gIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBpc0FkbWluOiB7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgdXNlclNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VyTW9kZWw7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQWdDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWhDLE1BQU1HLFVBQVUsR0FBRyxJQUFJQyxpQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFDckNDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q0MsS0FBSyxFQUFFO0lBQ0xILElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUUsSUFBSTtJQUFFRSxNQUFNLEVBQUUsSUFBSTtJQUFFQyxLQUFLLEVBQUUsSUFBSTtJQUFFQyxRQUFRLEVBQUU7RUFDckUsQ0FBQztFQUNEQyxRQUFRLEVBQUU7SUFBRVAsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDMUNNLE9BQU8sRUFBRTtJQUFFUixJQUFJLEVBQUVTLE9BQU87SUFBRVAsUUFBUSxFQUFFLElBQUk7SUFBRVAsT0FBTyxFQUFFO0VBQU07QUFDM0QsQ0FBQyxDQUFDO0FBRUYsTUFBTWUsU0FBUyxHQUFHYixpQkFBUSxDQUFDYyxLQUFLLENBQUMsTUFBTSxFQUFFZixVQUFVLENBQUM7QUFBQyxJQUFBZ0IsUUFBQSxHQUV0Q0YsU0FBUztBQUFBRyxPQUFBLENBQUFsQixPQUFBLEdBQUFpQixRQUFBIn0=","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","userSchema","mongoose","Schema","name","type","String","required","email","unique","index","dropDups","password","isAdmin","Boolean","userModel","model","_default","exports"],"sourceRoot":"C:\\Users\\HP\\OneDrive\\Desktop\\node-react-ecommerce-master (1)\\node-react-ecommerce-master\\backend\\models\\","sources":["userModel.js"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst userSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  email: {\r\n    type: String, required: true, unique: true, index: true, dropDups: true,\r\n  },\r\n  password: { type: String, required: true },\r\n  isAdmin: { type: Boolean, required: true, default: false },\r\n});\r\n\r\nconst userModel = mongoose.model('User', userSchema);\r\n\r\nexport default userModel;\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,UAAU,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACrCC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,KAAK,EAAE;IACLH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEE,MAAM,EAAE,IAAI;IAAEC,KAAK,EAAE,IAAI;IAAEC,QAAQ,EAAE;EACrE,CAAC;EACDC,QAAQ,EAAE;IAAEP,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CM,OAAO,EAAE;IAAER,IAAI,EAAES,OAAO;IAAEP,QAAQ,EAAE,IAAI;IAAEP,OAAO,EAAE;EAAM;AAC3D,CAAC,CAAC;AAEF,MAAMe,SAAS,GAAGb,iBAAQ,CAACc,KAAK,CAAC,MAAM,EAAEf,UAAU,CAAC;AAAC,IAAAgB,QAAA,GAEtCF,SAAS;AAAAG,OAAA,CAAAlB,OAAA,GAAAiB,QAAA"}},"mtime":1688310139703},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"filename\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\util.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.getToken = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _config = _interopRequireDefault(require(\"./config\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET, {\n    expiresIn: '48h'\n  });\n};\nexports.getToken = getToken;\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n    _jsonwebtoken.default.verify(onlyToken, _config.default.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({\n          message: 'Invalid Token'\n        });\n      }\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({\n      message: 'Token is not supplied.'\n    });\n  }\n};\nexports.isAuth = isAuth;\nconst isAdmin = (req, res, next) => {\n  console.log(req.user);\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n  return res.status(401).send({\n    message: 'Admin Token is not valid.'\n  });\n};\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfY29uZmlnIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRUb2tlbiIsInVzZXIiLCJqd3QiLCJzaWduIiwiX2lkIiwibmFtZSIsImVtYWlsIiwiaXNBZG1pbiIsImNvbmZpZyIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJleHBvcnRzIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJvbmx5VG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRlY29kZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxIUFxcT25lRHJpdmVcXERlc2t0b3BcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlciAoMSlcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlclxcYmFja2VuZFxcIiwic291cmNlcyI6WyJ1dGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XHJcbmNvbnN0IGdldFRva2VuID0gKHVzZXIpID0+IHtcclxuICByZXR1cm4gand0LnNpZ24oXHJcbiAgICB7XHJcbiAgICAgIF9pZDogdXNlci5faWQsXHJcbiAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgIGlzQWRtaW46IHVzZXIuaXNBZG1pbixcclxuICAgIH0sXHJcbiAgICBjb25maWcuSldUX1NFQ1JFVCxcclxuICAgIHtcclxuICAgICAgZXhwaXJlc0luOiAnNDhoJyxcclxuICAgIH1cclxuICApO1xyXG59O1xyXG5cclxuY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG5cclxuICBpZiAodG9rZW4pIHtcclxuICAgIGNvbnN0IG9ubHlUb2tlbiA9IHRva2VuLnNsaWNlKDcsIHRva2VuLmxlbmd0aCk7XHJcbiAgICBqd3QudmVyaWZ5KG9ubHlUb2tlbiwgY29uZmlnLkpXVF9TRUNSRVQsIChlcnIsIGRlY29kZSkgPT4ge1xyXG4gICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgVG9rZW4nIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHJlcS51c2VyID0gZGVjb2RlO1xyXG4gICAgICBuZXh0KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnVG9rZW4gaXMgbm90IHN1cHBsaWVkLicgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaXNBZG1pbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKHJlcS51c2VyKTtcclxuICBpZiAocmVxLnVzZXIgJiYgcmVxLnVzZXIuaXNBZG1pbikge1xyXG4gICAgcmV0dXJuIG5leHQoKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbWVzc2FnZTogJ0FkbWluIFRva2VuIGlzIG5vdCB2YWxpZC4nIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgZ2V0VG9rZW4sIGlzQXV0aCwgaXNBZG1pbiB9O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUM5QixNQUFNRyxRQUFRLEdBQUlDLElBQUksSUFBSztFQUN6QixPQUFPQyxxQkFBRyxDQUFDQyxJQUFJLENBQ2I7SUFDRUMsR0FBRyxFQUFFSCxJQUFJLENBQUNHLEdBQUc7SUFDYkMsSUFBSSxFQUFFSixJQUFJLENBQUNJLElBQUk7SUFDZkMsS0FBSyxFQUFFTCxJQUFJLENBQUNLLEtBQUs7SUFDakJDLE9BQU8sRUFBRU4sSUFBSSxDQUFDTTtFQUNoQixDQUFDLEVBQ0RDLGVBQU0sQ0FBQ0MsVUFBVSxFQUNqQjtJQUNFQyxTQUFTLEVBQUU7RUFDYixDQUNGLENBQUM7QUFDSCxDQUFDO0FBQUNDLE9BQUEsQ0FBQVgsUUFBQSxHQUFBQSxRQUFBO0FBRUYsTUFBTVksTUFBTSxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBQ2pDLE1BQU1DLEtBQUssR0FBR0gsR0FBRyxDQUFDSSxPQUFPLENBQUNDLGFBQWE7RUFFdkMsSUFBSUYsS0FBSyxFQUFFO0lBQ1QsTUFBTUcsU0FBUyxHQUFHSCxLQUFLLENBQUNJLEtBQUssQ0FBQyxDQUFDLEVBQUVKLEtBQUssQ0FBQ0ssTUFBTSxDQUFDO0lBQzlDbkIscUJBQUcsQ0FBQ29CLE1BQU0sQ0FBQ0gsU0FBUyxFQUFFWCxlQUFNLENBQUNDLFVBQVUsRUFBRSxDQUFDYyxHQUFHLEVBQUVDLE1BQU0sS0FBSztNQUN4RCxJQUFJRCxHQUFHLEVBQUU7UUFDUCxPQUFPVCxHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQUVDLE9BQU8sRUFBRTtRQUFnQixDQUFDLENBQUM7TUFDM0Q7TUFDQWQsR0FBRyxDQUFDWixJQUFJLEdBQUd1QixNQUFNO01BQ2pCVCxJQUFJLENBQUMsQ0FBQztNQUNOO0lBQ0YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxNQUFNO0lBQ0wsT0FBT0QsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxPQUFPLEVBQUU7SUFBeUIsQ0FBQyxDQUFDO0VBQ3BFO0FBQ0YsQ0FBQztBQUFDaEIsT0FBQSxDQUFBQyxNQUFBLEdBQUFBLE1BQUE7QUFFRixNQUFNTCxPQUFPLEdBQUdBLENBQUNNLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDbENhLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDaEIsR0FBRyxDQUFDWixJQUFJLENBQUM7RUFDckIsSUFBSVksR0FBRyxDQUFDWixJQUFJLElBQUlZLEdBQUcsQ0FBQ1osSUFBSSxDQUFDTSxPQUFPLEVBQUU7SUFDaEMsT0FBT1EsSUFBSSxDQUFDLENBQUM7RUFDZjtFQUNBLE9BQU9ELEdBQUcsQ0FBQ1csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7SUFBRUMsT0FBTyxFQUFFO0VBQTRCLENBQUMsQ0FBQztBQUN2RSxDQUFDO0FBQUNoQixPQUFBLENBQUFKLE9BQUEsR0FBQUEsT0FBQSJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_config","obj","__esModule","default","getToken","user","jwt","sign","_id","name","email","isAdmin","config","JWT_SECRET","expiresIn","exports","isAuth","req","res","next","token","headers","authorization","onlyToken","slice","length","verify","err","decode","status","send","message","console","log"],"sourceRoot":"C:\\Users\\HP\\OneDrive\\Desktop\\node-react-ecommerce-master (1)\\node-react-ecommerce-master\\backend\\","sources":["util.js"],"sourcesContent":["import jwt from 'jsonwebtoken';\r\nimport config from './config';\r\nconst getToken = (user) => {\r\n  return jwt.sign(\r\n    {\r\n      _id: user._id,\r\n      name: user.name,\r\n      email: user.email,\r\n      isAdmin: user.isAdmin,\r\n    },\r\n    config.JWT_SECRET,\r\n    {\r\n      expiresIn: '48h',\r\n    }\r\n  );\r\n};\r\n\r\nconst isAuth = (req, res, next) => {\r\n  const token = req.headers.authorization;\r\n\r\n  if (token) {\r\n    const onlyToken = token.slice(7, token.length);\r\n    jwt.verify(onlyToken, config.JWT_SECRET, (err, decode) => {\r\n      if (err) {\r\n        return res.status(401).send({ message: 'Invalid Token' });\r\n      }\r\n      req.user = decode;\r\n      next();\r\n      return;\r\n    });\r\n  } else {\r\n    return res.status(401).send({ message: 'Token is not supplied.' });\r\n  }\r\n};\r\n\r\nconst isAdmin = (req, res, next) => {\r\n  console.log(req.user);\r\n  if (req.user && req.user.isAdmin) {\r\n    return next();\r\n  }\r\n  return res.status(401).send({ message: 'Admin Token is not valid.' });\r\n};\r\n\r\nexport { getToken, isAuth, isAdmin };\r\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC9B,MAAMG,QAAQ,GAAIC,IAAI,IAAK;EACzB,OAAOC,qBAAG,CAACC,IAAI,CACb;IACEC,GAAG,EAAEH,IAAI,CAACG,GAAG;IACbC,IAAI,EAAEJ,IAAI,CAACI,IAAI;IACfC,KAAK,EAAEL,IAAI,CAACK,KAAK;IACjBC,OAAO,EAAEN,IAAI,CAACM;EAChB,CAAC,EACDC,eAAM,CAACC,UAAU,EACjB;IACEC,SAAS,EAAE;EACb,CACF,CAAC;AACH,CAAC;AAACC,OAAA,CAAAX,QAAA,GAAAA,QAAA;AAEF,MAAMY,MAAM,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACjC,MAAMC,KAAK,GAAGH,GAAG,CAACI,OAAO,CAACC,aAAa;EAEvC,IAAIF,KAAK,EAAE;IACT,MAAMG,SAAS,GAAGH,KAAK,CAACI,KAAK,CAAC,CAAC,EAAEJ,KAAK,CAACK,MAAM,CAAC;IAC9CnB,qBAAG,CAACoB,MAAM,CAACH,SAAS,EAAEX,eAAM,CAACC,UAAU,EAAE,CAACc,GAAG,EAAEC,MAAM,KAAK;MACxD,IAAID,GAAG,EAAE;QACP,OAAOT,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAAEC,OAAO,EAAE;QAAgB,CAAC,CAAC;MAC3D;MACAd,GAAG,CAACZ,IAAI,GAAGuB,MAAM;MACjBT,IAAI,CAAC,CAAC;MACN;IACF,CAAC,CAAC;EACJ,CAAC,MAAM;IACL,OAAOD,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAyB,CAAC,CAAC;EACpE;AACF,CAAC;AAAChB,OAAA,CAAAC,MAAA,GAAAA,MAAA;AAEF,MAAML,OAAO,GAAGA,CAACM,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAClCa,OAAO,CAACC,GAAG,CAAChB,GAAG,CAACZ,IAAI,CAAC;EACrB,IAAIY,GAAG,CAACZ,IAAI,IAAIY,GAAG,CAACZ,IAAI,CAACM,OAAO,EAAE;IAChC,OAAOQ,IAAI,CAAC,CAAC;EACf;EACA,OAAOD,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAAEC,OAAO,EAAE;EAA4B,CAAC,CAAC;AACvE,CAAC;AAAChB,OAAA,CAAAJ,OAAA,GAAAA,OAAA"}},"mtime":1688310139658},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"filename\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\routes\\\\productRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\nvar _util = require(\"../util\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: 1\n  } : {\n    price: -1\n  } : {\n    _id: -1\n  };\n  const products = await _productModel.default.find({\n    ...category,\n    ...searchKeyword\n  }).sort(sortOrder);\n  res.send(products);\n});\nrouter.get('/:id', async (req, res) => {\n  const product = await _productModel.default.findOne({\n    _id: req.params.id\n  });\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n});\nrouter.post('/:id/reviews', _util.isAuth, async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  if (product) {\n    const review = {\n      name: req.body.name,\n      rating: Number(req.body.rating),\n      comment: req.body.comment\n    };\n    product.reviews.push(review);\n    product.numReviews = product.reviews.length;\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n      message: 'Review saved successfully.'\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n});\nrouter.put('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    if (updatedProduct) {\n      return res.status(200).send({\n        message: 'Product Updated',\n        data: updatedProduct\n      });\n    }\n  }\n  return res.status(500).send({\n    message: ' Error in Updating Product.'\n  });\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedProduct = await _productModel.default.findById(req.params.id);\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({\n      message: 'Product Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nrouter.post('/', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const product = new _productModel.default({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    brand: req.body.brand,\n    category: req.body.category,\n    countInStock: req.body.countInStock,\n    description: req.body.description,\n    rating: req.body.rating,\n    numReviews: req.body.numReviews\n  });\n  const newProduct = await product.save();\n  if (newProduct) {\n    return res.status(201).send({\n      message: 'New Product Created',\n      data: newProduct\n    });\n  }\n  return res.status(500).send({\n    message: ' Error in Creating Product.'\n  });\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb2R1Y3RNb2RlbCIsIl91dGlsIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY2F0ZWdvcnkiLCJxdWVyeSIsInNlYXJjaEtleXdvcmQiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzb3J0T3JkZXIiLCJwcmljZSIsIl9pZCIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJzb3J0Iiwic2VuZCIsInByb2R1Y3QiLCJmaW5kT25lIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImZpbmRCeUlkIiwicmV2aWV3IiwiYm9keSIsInJhdGluZyIsIk51bWJlciIsImNvbW1lbnQiLCJyZXZpZXdzIiwicHVzaCIsIm51bVJldmlld3MiLCJsZW5ndGgiLCJyZWR1Y2UiLCJhIiwiYyIsInVwZGF0ZWRQcm9kdWN0Iiwic2F2ZSIsImRhdGEiLCJwdXQiLCJpc0FkbWluIiwicHJvZHVjdElkIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwiZGVsZXRlIiwiZGVsZXRlZFByb2R1Y3QiLCJyZW1vdmUiLCJuZXdQcm9kdWN0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEhQXFxPbmVEcml2ZVxcRGVza3RvcFxcbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyICgxKVxcbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyXFxiYWNrZW5kXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsicHJvZHVjdFJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJztcclxuaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbCc7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IGNhdGVnb3J5ID0gcmVxLnF1ZXJ5LmNhdGVnb3J5ID8geyBjYXRlZ29yeTogcmVxLnF1ZXJ5LmNhdGVnb3J5IH0gOiB7fTtcclxuICBjb25zdCBzZWFyY2hLZXl3b3JkID0gcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmRcclxuICAgID8ge1xyXG4gICAgICAgIG5hbWU6IHtcclxuICAgICAgICAgICRyZWdleDogcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmQsXHJcbiAgICAgICAgICAkb3B0aW9uczogJ2knLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuICAgIDoge307XHJcbiAgY29uc3Qgc29ydE9yZGVyID0gcmVxLnF1ZXJ5LnNvcnRPcmRlclxyXG4gICAgPyByZXEucXVlcnkuc29ydE9yZGVyID09PSAnbG93ZXN0J1xyXG4gICAgICA/IHsgcHJpY2U6IDEgfVxyXG4gICAgICA6IHsgcHJpY2U6IC0xIH1cclxuICAgIDogeyBfaWQ6IC0xIH07XHJcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoeyAuLi5jYXRlZ29yeSwgLi4uc2VhcmNoS2V5d29yZCB9KS5zb3J0KFxyXG4gICAgc29ydE9yZGVyXHJcbiAgKTtcclxuICByZXMuc2VuZChwcm9kdWN0cyk7XHJcbn0pO1xyXG5cclxucm91dGVyLmdldCgnLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XHJcbiAgaWYgKHByb2R1Y3QpIHtcclxuICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZC4nIH0pO1xyXG4gIH1cclxufSk7XHJcbnJvdXRlci5wb3N0KCcvOmlkL3Jldmlld3MnLCBpc0F1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gIGlmIChwcm9kdWN0KSB7XHJcbiAgICBjb25zdCByZXZpZXcgPSB7XHJcbiAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICAgIHJhdGluZzogTnVtYmVyKHJlcS5ib2R5LnJhdGluZyksXHJcbiAgICAgIGNvbW1lbnQ6IHJlcS5ib2R5LmNvbW1lbnQsXHJcbiAgICB9O1xyXG4gICAgcHJvZHVjdC5yZXZpZXdzLnB1c2gocmV2aWV3KTtcclxuICAgIHByb2R1Y3QubnVtUmV2aWV3cyA9IHByb2R1Y3QucmV2aWV3cy5sZW5ndGg7XHJcbiAgICBwcm9kdWN0LnJhdGluZyA9XHJcbiAgICAgIHByb2R1Y3QucmV2aWV3cy5yZWR1Y2UoKGEsIGMpID0+IGMucmF0aW5nICsgYSwgMCkgL1xyXG4gICAgICBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xyXG4gICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcclxuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHtcclxuICAgICAgZGF0YTogdXBkYXRlZFByb2R1Y3QucmV2aWV3c1t1cGRhdGVkUHJvZHVjdC5yZXZpZXdzLmxlbmd0aCAtIDFdLFxyXG4gICAgICBtZXNzYWdlOiAnUmV2aWV3IHNhdmVkIHN1Y2Nlc3NmdWxseS4nLFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcclxuICB9XHJcbn0pO1xyXG5yb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBwcm9kdWN0SWQgPSByZXEucGFyYW1zLmlkO1xyXG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHByb2R1Y3RJZCk7XHJcbiAgaWYgKHByb2R1Y3QpIHtcclxuICAgIHByb2R1Y3QubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XHJcbiAgICBwcm9kdWN0LnByaWNlID0gcmVxLmJvZHkucHJpY2U7XHJcbiAgICBwcm9kdWN0LmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XHJcbiAgICBwcm9kdWN0LmJyYW5kID0gcmVxLmJvZHkuYnJhbmQ7XHJcbiAgICBwcm9kdWN0LmNhdGVnb3J5ID0gcmVxLmJvZHkuY2F0ZWdvcnk7XHJcbiAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9IHJlcS5ib2R5LmNvdW50SW5TdG9jaztcclxuICAgIHByb2R1Y3QuZGVzY3JpcHRpb24gPSByZXEuYm9keS5kZXNjcmlwdGlvbjtcclxuICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XHJcbiAgICBpZiAodXBkYXRlZFByb2R1Y3QpIHtcclxuICAgICAgcmV0dXJuIHJlc1xyXG4gICAgICAgIC5zdGF0dXMoMjAwKVxyXG4gICAgICAgIC5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgVXBkYXRlZCcsIGRhdGE6IHVwZGF0ZWRQcm9kdWN0IH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnIEVycm9yIGluIFVwZGF0aW5nIFByb2R1Y3QuJyB9KTtcclxufSk7XHJcblxyXG5yb3V0ZXIuZGVsZXRlKCcvOmlkJywgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBkZWxldGVkUHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XHJcbiAgaWYgKGRlbGV0ZWRQcm9kdWN0KSB7XHJcbiAgICBhd2FpdCBkZWxldGVkUHJvZHVjdC5yZW1vdmUoKTtcclxuICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgRGVsZXRlZCcgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zZW5kKCdFcnJvciBpbiBEZWxldGlvbi4nKTtcclxuICB9XHJcbn0pO1xyXG5cclxucm91dGVyLnBvc3QoJy8nLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gIGNvbnN0IHByb2R1Y3QgPSBuZXcgUHJvZHVjdCh7XHJcbiAgICBuYW1lOiByZXEuYm9keS5uYW1lLFxyXG4gICAgcHJpY2U6IHJlcS5ib2R5LnByaWNlLFxyXG4gICAgaW1hZ2U6IHJlcS5ib2R5LmltYWdlLFxyXG4gICAgYnJhbmQ6IHJlcS5ib2R5LmJyYW5kLFxyXG4gICAgY2F0ZWdvcnk6IHJlcS5ib2R5LmNhdGVnb3J5LFxyXG4gICAgY291bnRJblN0b2NrOiByZXEuYm9keS5jb3VudEluU3RvY2ssXHJcbiAgICBkZXNjcmlwdGlvbjogcmVxLmJvZHkuZGVzY3JpcHRpb24sXHJcbiAgICByYXRpbmc6IHJlcS5ib2R5LnJhdGluZyxcclxuICAgIG51bVJldmlld3M6IHJlcS5ib2R5Lm51bVJldmlld3MsXHJcbiAgfSk7XHJcbiAgY29uc3QgbmV3UHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gIGlmIChuZXdQcm9kdWN0KSB7XHJcbiAgICByZXR1cm4gcmVzXHJcbiAgICAgIC5zdGF0dXMoMjAxKVxyXG4gICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdOZXcgUHJvZHVjdCBDcmVhdGVkJywgZGF0YTogbmV3UHJvZHVjdCB9KTtcclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJyBFcnJvciBpbiBDcmVhdGluZyBQcm9kdWN0LicgfSk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_productModel","_util","obj","__esModule","default","router","express","Router","get","req","res","category","query","searchKeyword","name","$regex","$options","sortOrder","price","_id","products","Product","find","sort","send","product","findOne","params","id","status","message","post","isAuth","findById","review","body","rating","Number","comment","reviews","push","numReviews","length","reduce","a","c","updatedProduct","save","data","put","isAdmin","productId","image","brand","countInStock","description","delete","deletedProduct","remove","newProduct","_default","exports"],"sourceRoot":"C:\\Users\\HP\\OneDrive\\Desktop\\node-react-ecommerce-master (1)\\node-react-ecommerce-master\\backend\\routes\\","sources":["productRoute.js"],"sourcesContent":["import express from 'express';\r\nimport Product from '../models/productModel';\r\nimport { isAuth, isAdmin } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get('/', async (req, res) => {\r\n  const category = req.query.category ? { category: req.query.category } : {};\r\n  const searchKeyword = req.query.searchKeyword\r\n    ? {\r\n        name: {\r\n          $regex: req.query.searchKeyword,\r\n          $options: 'i',\r\n        },\r\n      }\r\n    : {};\r\n  const sortOrder = req.query.sortOrder\r\n    ? req.query.sortOrder === 'lowest'\r\n      ? { price: 1 }\r\n      : { price: -1 }\r\n    : { _id: -1 };\r\n  const products = await Product.find({ ...category, ...searchKeyword }).sort(\r\n    sortOrder\r\n  );\r\n  res.send(products);\r\n});\r\n\r\nrouter.get('/:id', async (req, res) => {\r\n  const product = await Product.findOne({ _id: req.params.id });\r\n  if (product) {\r\n    res.send(product);\r\n  } else {\r\n    res.status(404).send({ message: 'Product Not Found.' });\r\n  }\r\n});\r\nrouter.post('/:id/reviews', isAuth, async (req, res) => {\r\n  const product = await Product.findById(req.params.id);\r\n  if (product) {\r\n    const review = {\r\n      name: req.body.name,\r\n      rating: Number(req.body.rating),\r\n      comment: req.body.comment,\r\n    };\r\n    product.reviews.push(review);\r\n    product.numReviews = product.reviews.length;\r\n    product.rating =\r\n      product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n      product.reviews.length;\r\n    const updatedProduct = await product.save();\r\n    res.status(201).send({\r\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\r\n      message: 'Review saved successfully.',\r\n    });\r\n  } else {\r\n    res.status(404).send({ message: 'Product Not Found' });\r\n  }\r\n});\r\nrouter.put('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const productId = req.params.id;\r\n  const product = await Product.findById(productId);\r\n  if (product) {\r\n    product.name = req.body.name;\r\n    product.price = req.body.price;\r\n    product.image = req.body.image;\r\n    product.brand = req.body.brand;\r\n    product.category = req.body.category;\r\n    product.countInStock = req.body.countInStock;\r\n    product.description = req.body.description;\r\n    const updatedProduct = await product.save();\r\n    if (updatedProduct) {\r\n      return res\r\n        .status(200)\r\n        .send({ message: 'Product Updated', data: updatedProduct });\r\n    }\r\n  }\r\n  return res.status(500).send({ message: ' Error in Updating Product.' });\r\n});\r\n\r\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\r\n  const deletedProduct = await Product.findById(req.params.id);\r\n  if (deletedProduct) {\r\n    await deletedProduct.remove();\r\n    res.send({ message: 'Product Deleted' });\r\n  } else {\r\n    res.send('Error in Deletion.');\r\n  }\r\n});\r\n\r\nrouter.post('/', isAuth, isAdmin, async (req, res) => {\r\n  const product = new Product({\r\n    name: req.body.name,\r\n    price: req.body.price,\r\n    image: req.body.image,\r\n    brand: req.body.brand,\r\n    category: req.body.category,\r\n    countInStock: req.body.countInStock,\r\n    description: req.body.description,\r\n    rating: req.body.rating,\r\n    numReviews: req.body.numReviews,\r\n  });\r\n  const newProduct = await product.save();\r\n  if (newProduct) {\r\n    return res\r\n      .status(201)\r\n      .send({ message: 'New Product Created', data: newProduct });\r\n  }\r\n  return res.status(500).send({ message: ' Error in Creating Product.' });\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"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"}},"mtime":1688310139743},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"filename\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\models\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst reviewSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst prodctSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n});\nconst productModel = _mongoose.default.model('Product', prodctSchema);\nvar _default = productModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicmV2aWV3U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwicmF0aW5nIiwiTnVtYmVyIiwiY29tbWVudCIsInRpbWVzdGFtcHMiLCJwcm9kY3RTY2hlbWEiLCJpbWFnZSIsImJyYW5kIiwicHJpY2UiLCJjYXRlZ29yeSIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJwcm9kdWN0TW9kZWwiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxIUFxcT25lRHJpdmVcXERlc2t0b3BcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlciAoMSlcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlclxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgcmV2aWV3U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcclxuICB7XHJcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIHJhdGluZzogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcclxuICAgIGNvbW1lbnQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZSxcclxuICB9XHJcbik7XHJcbmNvbnN0IHByb2RjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGltYWdlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBicmFuZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgcHJpY2U6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBjb3VudEluU3RvY2s6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGRlc2NyaXB0aW9uOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICByYXRpbmc6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIG51bVJldmlld3M6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHJldmlld3M6IFtyZXZpZXdTY2hlbWFdLFxyXG59KTtcclxuXHJcbmNvbnN0IHByb2R1Y3RNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdQcm9kdWN0JywgcHJvZGN0U2NoZW1hKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHByb2R1Y3RNb2RlbDtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBZ0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFaEMsTUFBTUcsWUFBWSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FDdEM7RUFDRUMsSUFBSSxFQUFFO0lBQUVDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3RDQyxNQUFNLEVBQUU7SUFBRUgsSUFBSSxFQUFFSSxNQUFNO0lBQUVULE9BQU8sRUFBRTtFQUFFLENBQUM7RUFDcENVLE9BQU8sRUFBRTtJQUFFTCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUs7QUFDMUMsQ0FBQyxFQUNEO0VBQ0VJLFVBQVUsRUFBRTtBQUNkLENBQ0YsQ0FBQztBQUNELE1BQU1DLFlBQVksR0FBRyxJQUFJVixpQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFDdkNDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN0Q00sS0FBSyxFQUFFO0lBQUVSLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3ZDTyxLQUFLLEVBQUU7SUFBRVQsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDdkNRLEtBQUssRUFBRTtJQUFFVixJQUFJLEVBQUVJLE1BQU07SUFBRVQsT0FBTyxFQUFFLENBQUM7SUFBRU8sUUFBUSxFQUFFO0VBQUssQ0FBQztFQUNuRFMsUUFBUSxFQUFFO0lBQUVYLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQzFDVSxZQUFZLEVBQUU7SUFBRVosSUFBSSxFQUFFSSxNQUFNO0lBQUVULE9BQU8sRUFBRSxDQUFDO0lBQUVPLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDMURXLFdBQVcsRUFBRTtJQUFFYixJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUM3Q0MsTUFBTSxFQUFFO0lBQUVILElBQUksRUFBRUksTUFBTTtJQUFFVCxPQUFPLEVBQUUsQ0FBQztJQUFFTyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3BEWSxVQUFVLEVBQUU7SUFBRWQsSUFBSSxFQUFFSSxNQUFNO0lBQUVULE9BQU8sRUFBRSxDQUFDO0lBQUVPLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDeERhLE9BQU8sRUFBRSxDQUFDbkIsWUFBWTtBQUN4QixDQUFDLENBQUM7QUFFRixNQUFNb0IsWUFBWSxHQUFHbkIsaUJBQVEsQ0FBQ29CLEtBQUssQ0FBQyxTQUFTLEVBQUVWLFlBQVksQ0FBQztBQUFDLElBQUFXLFFBQUEsR0FFOUNGLFlBQVk7QUFBQUcsT0FBQSxDQUFBeEIsT0FBQSxHQUFBdUIsUUFBQSJ9","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","reviewSchema","mongoose","Schema","name","type","String","required","rating","Number","comment","timestamps","prodctSchema","image","brand","price","category","countInStock","description","numReviews","reviews","productModel","model","_default","exports"],"sourceRoot":"C:\\Users\\HP\\OneDrive\\Desktop\\node-react-ecommerce-master (1)\\node-react-ecommerce-master\\backend\\models\\","sources":["productModel.js"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst reviewSchema = new mongoose.Schema(\r\n  {\r\n    name: { type: String, required: true },\r\n    rating: { type: Number, default: 0 },\r\n    comment: { type: String, required: true },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\nconst prodctSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  image: { type: String, required: true },\r\n  brand: { type: String, required: true },\r\n  price: { type: Number, default: 0, required: true },\r\n  category: { type: String, required: true },\r\n  countInStock: { type: Number, default: 0, required: true },\r\n  description: { type: String, required: true },\r\n  rating: { type: Number, default: 0, required: true },\r\n  numReviews: { type: Number, default: 0, required: true },\r\n  reviews: [reviewSchema],\r\n});\r\n\r\nconst productModel = mongoose.model('Product', prodctSchema);\r\n\r\nexport default productModel;\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,YAAY,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CACtC;EACEC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,MAAM,EAAE;IAAEH,IAAI,EAAEI,MAAM;IAAET,OAAO,EAAE;EAAE,CAAC;EACpCU,OAAO,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK;AAC1C,CAAC,EACD;EACEI,UAAU,EAAE;AACd,CACF,CAAC;AACD,MAAMC,YAAY,GAAG,IAAIV,iBAAQ,CAACC,MAAM,CAAC;EACvCC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCM,KAAK,EAAE;IAAER,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCO,KAAK,EAAE;IAAET,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCQ,KAAK,EAAE;IAAEV,IAAI,EAAEI,MAAM;IAAET,OAAO,EAAE,CAAC;IAAEO,QAAQ,EAAE;EAAK,CAAC;EACnDS,QAAQ,EAAE;IAAEX,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1CU,YAAY,EAAE;IAAEZ,IAAI,EAAEI,MAAM;IAAET,OAAO,EAAE,CAAC;IAAEO,QAAQ,EAAE;EAAK,CAAC;EAC1DW,WAAW,EAAE;IAAEb,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC7CC,MAAM,EAAE;IAAEH,IAAI,EAAEI,MAAM;IAAET,OAAO,EAAE,CAAC;IAAEO,QAAQ,EAAE;EAAK,CAAC;EACpDY,UAAU,EAAE;IAAEd,IAAI,EAAEI,MAAM;IAAET,OAAO,EAAE,CAAC;IAAEO,QAAQ,EAAE;EAAK,CAAC;EACxDa,OAAO,EAAE,CAACnB,YAAY;AACxB,CAAC,CAAC;AAEF,MAAMoB,YAAY,GAAGnB,iBAAQ,CAACoB,KAAK,CAAC,SAAS,EAAEV,YAAY,CAAC;AAAC,IAAAW,QAAA,GAE9CF,YAAY;AAAAG,OAAA,CAAAxB,OAAA,GAAAuB,QAAA"}},"mtime":1688310139695},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"filename\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\routes\\\\orderRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\nvar _util = require(\"../util\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = _express.default.Router();\nrouter.get(\"/\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n});\nrouter.get(\"/mine\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n});\nrouter.get(\"/:id\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.delete(\"/:id\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n});\nrouter.post(\"/\", _util.isAuth, async (req, res) => {\n  const newOrder = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    data: newOrderCreated\n  });\n});\nrouter.put(\"/:id/pay\", _util.isAuth, async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: 'paypal',\n      paymentResult: {\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid.',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order not found.'\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX29yZGVyTW9kZWwiLCJfdXRpbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsInJlcSIsInJlcyIsIm9yZGVycyIsIk9yZGVyIiwiZmluZCIsInBvcHVsYXRlIiwic2VuZCIsInVzZXIiLCJfaWQiLCJvcmRlciIsImZpbmRPbmUiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImRlbGV0ZSIsImlzQWRtaW4iLCJkZWxldGVkT3JkZXIiLCJyZW1vdmUiLCJwb3N0IiwibmV3T3JkZXIiLCJvcmRlckl0ZW1zIiwiYm9keSIsInNoaXBwaW5nIiwicGF5bWVudCIsIml0ZW1zUHJpY2UiLCJ0YXhQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0b3RhbFByaWNlIiwibmV3T3JkZXJDcmVhdGVkIiwic2F2ZSIsIm1lc3NhZ2UiLCJkYXRhIiwicHV0IiwiZmluZEJ5SWQiLCJpc1BhaWQiLCJwYWlkQXQiLCJEYXRlIiwibm93IiwicGF5bWVudE1ldGhvZCIsInBheW1lbnRSZXN1bHQiLCJwYXllcklEIiwib3JkZXJJRCIsInBheW1lbnRJRCIsInVwZGF0ZWRPcmRlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxIUFxcT25lRHJpdmVcXERlc2t0b3BcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlciAoMSlcXG5vZGUtcmVhY3QtZWNvbW1lcmNlLW1hc3RlclxcYmFja2VuZFxccm91dGVzXFwiLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBPcmRlciBmcm9tICcuLi9tb2RlbHMvb3JkZXJNb2RlbCc7XHJcbmltcG9ydCB7IGlzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL3V0aWwnO1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7fSkucG9wdWxhdGUoJ3VzZXInKTtcclxuICByZXMuc2VuZChvcmRlcnMpO1xyXG59KTtcclxucm91dGVyLmdldChcIi9taW5lXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7IHVzZXI6IHJlcS51c2VyLl9pZCB9KTtcclxuICByZXMuc2VuZChvcmRlcnMpO1xyXG59KTtcclxuXHJcbnJvdXRlci5nZXQoXCIvOmlkXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBPcmRlci5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xyXG4gIGlmIChvcmRlcikge1xyXG4gICAgcmVzLnNlbmQob3JkZXIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIk9yZGVyIE5vdCBGb3VuZC5cIilcclxuICB9XHJcbn0pO1xyXG5cclxucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRPbmUoeyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSk7XHJcbiAgaWYgKG9yZGVyKSB7XHJcbiAgICBjb25zdCBkZWxldGVkT3JkZXIgPSBhd2FpdCBvcmRlci5yZW1vdmUoKTtcclxuICAgIHJlcy5zZW5kKGRlbGV0ZWRPcmRlcik7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiT3JkZXIgTm90IEZvdW5kLlwiKVxyXG4gIH1cclxufSk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9cIiwgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBuZXdPcmRlciA9IG5ldyBPcmRlcih7XHJcbiAgICBvcmRlckl0ZW1zOiByZXEuYm9keS5vcmRlckl0ZW1zLFxyXG4gICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgc2hpcHBpbmc6IHJlcS5ib2R5LnNoaXBwaW5nLFxyXG4gICAgcGF5bWVudDogcmVxLmJvZHkucGF5bWVudCxcclxuICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXHJcbiAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXHJcbiAgICBzaGlwcGluZ1ByaWNlOiByZXEuYm9keS5zaGlwcGluZ1ByaWNlLFxyXG4gICAgdG90YWxQcmljZTogcmVxLmJvZHkudG90YWxQcmljZSxcclxuICB9KTtcclxuICBjb25zdCBuZXdPcmRlckNyZWF0ZWQgPSBhd2FpdCBuZXdPcmRlci5zYXZlKCk7XHJcbiAgcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBtZXNzYWdlOiBcIk5ldyBPcmRlciBDcmVhdGVkXCIsIGRhdGE6IG5ld09yZGVyQ3JlYXRlZCB9KTtcclxufSk7XHJcblxyXG5yb3V0ZXIucHV0KFwiLzppZC9wYXlcIiwgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCBvcmRlciA9IGF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xyXG4gIGlmIChvcmRlcikge1xyXG4gICAgb3JkZXIuaXNQYWlkID0gdHJ1ZTtcclxuICAgIG9yZGVyLnBhaWRBdCA9IERhdGUubm93KCk7XHJcbiAgICBvcmRlci5wYXltZW50ID0ge1xyXG4gICAgICBwYXltZW50TWV0aG9kOiAncGF5cGFsJyxcclxuICAgICAgcGF5bWVudFJlc3VsdDoge1xyXG4gICAgICAgIHBheWVySUQ6IHJlcS5ib2R5LnBheWVySUQsXHJcbiAgICAgICAgb3JkZXJJRDogcmVxLmJvZHkub3JkZXJJRCxcclxuICAgICAgICBwYXltZW50SUQ6IHJlcS5ib2R5LnBheW1lbnRJRFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XHJcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBQYWlkLicsIG9yZGVyOiB1cGRhdGVkT3JkZXIgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIG5vdCBmb3VuZC4nIH0pXHJcbiAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUYsT0FBQTtBQUEwQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUUxQyxNQUFNRyxNQUFNLEdBQUdDLGdCQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBRS9CRixNQUFNLENBQUNHLEdBQUcsQ0FBQyxHQUFHLEVBQUVDLFlBQU0sRUFBRSxPQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxQyxNQUFNQyxNQUFNLEdBQUcsTUFBTUMsbUJBQUssQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxNQUFNLENBQUM7RUFDcERKLEdBQUcsQ0FBQ0ssSUFBSSxDQUFDSixNQUFNLENBQUM7QUFDbEIsQ0FBQyxDQUFDO0FBQ0ZQLE1BQU0sQ0FBQ0csR0FBRyxDQUFDLE9BQU8sRUFBRUMsWUFBTSxFQUFFLE9BQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzlDLE1BQU1DLE1BQU0sR0FBRyxNQUFNQyxtQkFBSyxDQUFDQyxJQUFJ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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_orderModel","_util","obj","__esModule","default","router","express","Router","get","isAuth","req","res","orders","Order","find","populate","send","user","_id","order","findOne","params","id","status","delete","isAdmin","deletedOrder","remove","post","newOrder","orderItems","body","shipping","payment","itemsPrice","taxPrice","shippingPrice","totalPrice","newOrderCreated","save","message","data","put","findById","isPaid","paidAt","Date","now","paymentMethod","paymentResult","payerID","orderID","paymentID","updatedOrder","_default","exports"],"sourceRoot":"C:\\Users\\HP\\OneDrive\\Desktop\\node-react-ecommerce-master (1)\\node-react-ecommerce-master\\backend\\routes\\","sources":["orderRoute.js"],"sourcesContent":["import express from 'express';\r\nimport Order from '../models/orderModel';\r\nimport { isAuth, isAdmin } from '../util';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.get(\"/\", isAuth, async (req, res) => {\r\n  const orders = await Order.find({}).populate('user');\r\n  res.send(orders);\r\n});\r\nrouter.get(\"/mine\", isAuth, async (req, res) => {\r\n  const orders = await Order.find({ user: req.user._id });\r\n  res.send(orders);\r\n});\r\n\r\nrouter.get(\"/:id\", isAuth, async (req, res) => {\r\n  const order = await Order.findOne({ _id: req.params.id });\r\n  if (order) {\r\n    res.send(order);\r\n  } else {\r\n    res.status(404).send(\"Order Not Found.\")\r\n  }\r\n});\r\n\r\nrouter.delete(\"/:id\", isAuth, isAdmin, async (req, res) => {\r\n  const order = await Order.findOne({ _id: req.params.id });\r\n  if (order) {\r\n    const deletedOrder = await order.remove();\r\n    res.send(deletedOrder);\r\n  } else {\r\n    res.status(404).send(\"Order Not Found.\")\r\n  }\r\n});\r\n\r\nrouter.post(\"/\", isAuth, async (req, res) => {\r\n  const newOrder = new Order({\r\n    orderItems: req.body.orderItems,\r\n    user: req.user._id,\r\n    shipping: req.body.shipping,\r\n    payment: req.body.payment,\r\n    itemsPrice: req.body.itemsPrice,\r\n    taxPrice: req.body.taxPrice,\r\n    shippingPrice: req.body.shippingPrice,\r\n    totalPrice: req.body.totalPrice,\r\n  });\r\n  const newOrderCreated = await newOrder.save();\r\n  res.status(201).send({ message: \"New Order Created\", data: newOrderCreated });\r\n});\r\n\r\nrouter.put(\"/:id/pay\", isAuth, async (req, res) => {\r\n  const order = await Order.findById(req.params.id);\r\n  if (order) {\r\n    order.isPaid = true;\r\n    order.paidAt = Date.now();\r\n    order.payment = {\r\n      paymentMethod: 'paypal',\r\n      paymentResult: {\r\n        payerID: req.body.payerID,\r\n        orderID: req.body.orderID,\r\n        paymentID: req.body.paymentID\r\n      }\r\n    }\r\n    const updatedOrder = await order.save();\r\n    res.send({ message: 'Order Paid.', order: updatedOrder });\r\n  } else {\r\n    res.status(404).send({ message: 'Order not found.' })\r\n  }\r\n});\r\n\r\nexport default router;"],"mappings":"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"}},"mtime":1688310139727},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"filename\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\models\\\\orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst shippingSchema = {\n  address: {\n    type: String,\n    required: true\n  },\n  city: {\n    type: String,\n    required: true\n  },\n  postalCode: {\n    type: String,\n    required: true\n  },\n  country: {\n    type: String,\n    required: true\n  }\n};\nconst paymentSchema = {\n  paymentMethod: {\n    type: String,\n    required: true\n  }\n};\nconst orderItemSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  qty: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: String,\n    required: true\n  },\n  product: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  }\n});\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: {\n    type: Number\n  },\n  taxPrice: {\n    type: Number\n  },\n  shippingPrice: {\n    type: Number\n  },\n  totalPrice: {\n    type: Number\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\nconst orderModel = _mongoose.default.model(\"Order\", orderSchema);\nvar _default = orderModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic2hpcHBpbmdTY2hlbWEiLCJhZGRyZXNzIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudFNjaGVtYSIsInBheW1lbnRNZXRob2QiLCJvcmRlckl0ZW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJxdHkiLCJOdW1iZXIiLCJpbWFnZSIsInByaWNlIiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJvcmRlclNjaGVtYSIsInVzZXIiLCJvcmRlckl0ZW1zIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwicGFpZEF0IiwiRGF0ZSIsImlzRGVsaXZlcmVkIiwiZGVsaXZlcmVkQXQiLCJ0aW1lc3RhbXBzIiwib3JkZXJNb2RlbCIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEhQXFxPbmVEcml2ZVxcRGVza3RvcFxcbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyICgxKVxcbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsib3JkZXJNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5jb25zdCBzaGlwcGluZ1NjaGVtYSA9IHtcclxuICBhZGRyZXNzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBjaXR5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBwb3N0YWxDb2RlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBjb3VudHJ5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxufTtcclxuXHJcbmNvbnN0IHBheW1lbnRTY2hlbWEgPSB7XHJcbiAgcGF5bWVudE1ldGhvZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH1cclxufTtcclxuXHJcbmNvbnN0IG9yZGVySXRlbVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHF0eTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHByaWNlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBwcm9kdWN0OiB7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdQcm9kdWN0JyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCBvcmRlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIHVzZXI6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBvcmRlckl0ZW1zOiBbb3JkZXJJdGVtU2NoZW1hXSxcclxuICBzaGlwcGluZzogc2hpcHBpbmdTY2hlbWEsXHJcbiAgcGF5bWVudDogcGF5bWVudFNjaGVtYSxcclxuICBpdGVtc1ByaWNlOiB7IHR5cGU6IE51bWJlciB9LFxyXG4gIHRheFByaWNlOiB7IHR5cGU6IE51bWJlciB9LFxyXG4gIHNoaXBwaW5nUHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXHJcbiAgdG90YWxQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcclxuICBpc1BhaWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcclxuICBwYWlkQXQ6IHsgdHlwZTogRGF0ZSB9LFxyXG4gIGlzRGVsaXZlcmVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgZGVsaXZlcmVkQXQ6IHsgdHlwZTogRGF0ZSB9LFxyXG59LCB7XHJcbiAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IG9yZGVyTW9kZWwgPSBtb25nb29zZS5tb2RlbChcIk9yZGVyXCIsIG9yZGVyU2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgb3JkZXJNb2RlbDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUNoQyxNQUFNRyxjQUFjLEdBQUc7RUFDckJDLE9BQU8sRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN6Q0MsSUFBSSxFQUFFO0lBQUVILElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3RDRSxVQUFVLEVBQUU7SUFBRUosSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDNUNHLE9BQU8sRUFBRTtJQUFFTCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUs7QUFDMUMsQ0FBQztBQUVELE1BQU1JLGFBQWEsR0FBRztFQUNwQkMsYUFBYSxFQUFFO0lBQUVQLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSztBQUNoRCxDQUFDO0FBRUQsTUFBTU0sZUFBZSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBQztFQUMxQ0MsSUFBSSxFQUFFO0lBQUVYLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3RDVSxHQUFHLEVBQUU7SUFBRVosSUFBSSxFQUFFYSxNQUFNO0lBQUVYLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDckNZLEtBQUssRUFBRTtJQUFFZCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN2Q2EsS0FBSyxFQUFFO0lBQUVmLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3ZDYyxPQUFPLEVBQUU7SUFDUGhCLElBQUksRUFBRVMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDTyxLQUFLLENBQUNDLFFBQVE7SUFDcENDLEdBQUcsRUFBRSxTQUFTO0lBQ2RqQixRQUFRLEVBQUU7RUFDWjtBQUNGLENBQUMsQ0FBQztBQUVGLE1BQU1rQixXQUFXLEdBQUcsSUFBSVgsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDO0VBQ3RDVyxJQUFJLEVBQUU7SUFBRXJCLElBQUksRUFBRVMsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDTyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFLE1BQU07SUFBRWpCLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDM0VvQixVQUFVLEVBQUUsQ0FBQ2QsZUFBZSxDQUFDO0VBQzdCZSxRQUFRLEVBQUV6QixjQUFjO0VBQ3hCMEIsT0FBTyxFQUFFbEIsYUFBYTtFQUN0Qm1CLFVBQVUsRUFBRTtJQUFFekIsSUFBSSxFQUFFYTtFQUFPLENBQUM7RUFDNUJhLFFBQVEsRUFBRTtJQUFFMUIsSUFBSSxFQUFFYTtFQUFPLENBQUM7RUFDMUJjLGFBQWEsRUFBRTtJQUFFM0IsSUFBSSxFQUFFYTtFQUFPLENBQUM7RUFDL0JlLFVBQVUsRUFBRTtJQUFFNUIsSUFBSSxFQUFFYTtFQUFPLENBQUM7RUFDNUJnQixNQUFNLEVBQUU7SUFBRTdCLElBQUksRUFBRThCLE9BQU87SUFBRWpDLE9BQU8sRUFBRTtFQUFNLENBQUM7RUFDekNrQyxNQUFNLEVBQUU7SUFBRS9CLElBQUksRUFBRWdDO0VBQUssQ0FBQztFQUN0QkMsV0FBVyxFQUFFO0lBQUVqQyxJQUFJLEVBQUU4QixPQUFPO0lBQUVqQyxPQUFPLEVBQUU7RUFBTSxDQUFDO0VBQzlDcUMsV0FBVyxFQUFFO0lBQUVsQyxJQUFJLEVBQUVnQztFQUFLO0FBQzVCLENBQUMsRUFBRTtFQUNERyxVQUFVLEVBQUU7QUFDZCxDQUFDLENBQUM7QUFFRixNQUFNQyxVQUFVLEdBQUczQixpQkFBUSxDQUFDNEIsS0FBSyxDQUFDLE9BQU8sRUFBRWpCLFdBQVcsQ0FBQztBQUFDLElBQUFrQixRQUFBLEdBQ3pDRixVQUFVO0FBQUFHLE9BQUEsQ0FBQTFDLE9BQUEsR0FBQXlDLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","shippingSchema","address","type","String","required","city","postalCode","country","paymentSchema","paymentMethod","orderItemSchema","mongoose","Schema","name","qty","Number","image","price","product","Types","ObjectId","ref","orderSchema","user","orderItems","shipping","payment","itemsPrice","taxPrice","shippingPrice","totalPrice","isPaid","Boolean","paidAt","Date","isDelivered","deliveredAt","timestamps","orderModel","model","_default","exports"],"sourceRoot":"C:\\Users\\HP\\OneDrive\\Desktop\\node-react-ecommerce-master (1)\\node-react-ecommerce-master\\backend\\models\\","sources":["orderModel.js"],"sourcesContent":["import mongoose from 'mongoose';\r\nconst shippingSchema = {\r\n  address: { type: String, required: true },\r\n  city: { type: String, required: true },\r\n  postalCode: { type: String, required: true },\r\n  country: { type: String, required: true },\r\n};\r\n\r\nconst paymentSchema = {\r\n  paymentMethod: { type: String, required: true }\r\n};\r\n\r\nconst orderItemSchema = new mongoose.Schema({\r\n  name: { type: String, required: true },\r\n  qty: { type: Number, required: true },\r\n  image: { type: String, required: true },\r\n  price: { type: String, required: true },\r\n  product: {\r\n    type: mongoose.Schema.Types.ObjectId,\r\n    ref: 'Product',\r\n    required: true\r\n  },\r\n});\r\n\r\nconst orderSchema = new mongoose.Schema({\r\n  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\r\n  orderItems: [orderItemSchema],\r\n  shipping: shippingSchema,\r\n  payment: paymentSchema,\r\n  itemsPrice: { type: Number },\r\n  taxPrice: { type: Number },\r\n  shippingPrice: { type: Number },\r\n  totalPrice: { type: Number },\r\n  isPaid: { type: Boolean, default: false },\r\n  paidAt: { type: Date },\r\n  isDelivered: { type: Boolean, default: false },\r\n  deliveredAt: { type: Date },\r\n}, {\r\n  timestamps: true\r\n});\r\n\r\nconst orderModel = mongoose.model(\"Order\", orderSchema);\r\nexport default orderModel;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAChC,MAAMG,cAAc,GAAG;EACrBC,OAAO,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACzCC,IAAI,EAAE;IAAEH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCE,UAAU,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC5CG,OAAO,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK;AAC1C,CAAC;AAED,MAAMI,aAAa,GAAG;EACpBC,aAAa,EAAE;IAAEP,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK;AAChD,CAAC;AAED,MAAMM,eAAe,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EAC1CC,IAAI,EAAE;IAAEX,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCU,GAAG,EAAE;IAAEZ,IAAI,EAAEa,MAAM;IAAEX,QAAQ,EAAE;EAAK,CAAC;EACrCY,KAAK,EAAE;IAAEd,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCa,KAAK,EAAE;IAAEf,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACvCc,OAAO,EAAE;IACPhB,IAAI,EAAES,iBAAQ,CAACC,MAAM,CAACO,KAAK,CAACC,QAAQ;IACpCC,GAAG,EAAE,SAAS;IACdjB,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC;AAEF,MAAMkB,WAAW,GAAG,IAAIX,iBAAQ,CAACC,MAAM,CAAC;EACtCW,IAAI,EAAE;IAAErB,IAAI,EAAES,iBAAQ,CAACC,MAAM,CAACO,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEjB,QAAQ,EAAE;EAAK,CAAC;EAC3EoB,UAAU,EAAE,CAACd,eAAe,CAAC;EAC7Be,QAAQ,EAAEzB,cAAc;EACxB0B,OAAO,EAAElB,aAAa;EACtBmB,UAAU,EAAE;IAAEzB,IAAI,EAAEa;EAAO,CAAC;EAC5Ba,QAAQ,EAAE;IAAE1B,IAAI,EAAEa;EAAO,CAAC;EAC1Bc,aAAa,EAAE;IAAE3B,IAAI,EAAEa;EAAO,CAAC;EAC/Be,UAAU,EAAE;IAAE5B,IAAI,EAAEa;EAAO,CAAC;EAC5BgB,MAAM,EAAE;IAAE7B,IAAI,EAAE8B,OAAO;IAAEjC,OAAO,EAAE;EAAM,CAAC;EACzCkC,MAAM,EAAE;IAAE/B,IAAI,EAAEgC;EAAK,CAAC;EACtBC,WAAW,EAAE;IAAEjC,IAAI,EAAE8B,OAAO;IAAEjC,OAAO,EAAE;EAAM,CAAC;EAC9CqC,WAAW,EAAE;IAAElC,IAAI,EAAEgC;EAAK;AAC5B,CAAC,EAAE;EACDG,UAAU,EAAE;AACd,CAAC,CAAC;AAEF,MAAMC,UAAU,GAAG3B,iBAAQ,CAAC4B,KAAK,CAAC,OAAO,EAAEjB,WAAW,CAAC;AAAC,IAAAkB,QAAA,GACzCF,UAAU;AAAAG,OAAA,CAAA1C,OAAA,GAAAyC,QAAA"}},"mtime":1688310139682},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"filename\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\routes\\\\uploadRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _multerS = _interopRequireDefault(require(\"multer-s3\"));\nvar _awsSdk = _interopRequireDefault(require(\"aws-sdk\"));\nvar _config = _interopRequireDefault(require(\"../config\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage\n});\nconst router = _express.default.Router();\nrouter.post('/', upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n});\n_awsSdk.default.config.update({\n  accessKeyId: _config.default.accessKeyId,\n  secretAccessKey: _config.default.secretAccessKey\n});\nconst s3 = new _awsSdk.default.S3();\nconst storageS3 = (0, _multerS.default)({\n  s3,\n  bucket: 'amazona-bucket',\n  acl: 'public-read',\n  contentType: _multerS.default.AUTO_CONTENT_TYPE,\n  key(req, file, cb) {\n    cb(null, file.originalname);\n  }\n});\nconst uploadS3 = (0, _multer.default)({\n  storage: storageS3\n});\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n  res.send(req.file.location);\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9tdWx0ZXJTIiwiX2F3c1NkayIsIl9jb25maWciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZmlsZW5hbWUiLCJEYXRlIiwibm93IiwidXBsb2FkIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJzaW5nbGUiLCJyZXMiLCJzZW5kIiwicGF0aCIsImF3cyIsImNvbmZpZyIsInVwZGF0ZSIsImFjY2Vzc0tleUlkIiwic2VjcmV0QWNjZXNzS2V5IiwiczMiLCJTMyIsInN0b3JhZ2VTMyIsIm11bHRlclMzIiwiYnVja2V0IiwiYWNsIiwiY29udGVudFR5cGUiLCJBVVRPX0NPTlRFTlRfVFlQRSIsImtleSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZFMzIiwibG9jYXRpb24iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSFBcXE9uZURyaXZlXFxEZXNrdG9wXFxub2RlLXJlYWN0LWVjb21tZXJjZS1tYXN0ZXIgKDEpXFxub2RlLXJlYWN0LWVjb21tZXJjZS1tYXN0ZXJcXGJhY2tlbmRcXHJvdXRlc1xcIiwic291cmNlcyI6WyJ1cGxvYWRSb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xyXG5pbXBvcnQgbXVsdGVyUzMgZnJvbSAnbXVsdGVyLXMzJztcclxuaW1wb3J0IGF3cyBmcm9tICdhd3Mtc2RrJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnO1xyXG5cclxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgZGVzdGluYXRpb24ocmVxLCBmaWxlLCBjYikge1xyXG4gICAgY2IobnVsbCwgJ3VwbG9hZHMvJyk7XHJcbiAgfSxcclxuICBmaWxlbmFtZShyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjYihudWxsLCBgJHtEYXRlLm5vdygpfS5qcGdgKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2UgfSk7XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnBvc3QoJy8nLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuc2VuZChgLyR7cmVxLmZpbGUucGF0aH1gKTtcclxufSk7XHJcblxyXG5hd3MuY29uZmlnLnVwZGF0ZSh7XHJcbiAgYWNjZXNzS2V5SWQ6IGNvbmZpZy5hY2Nlc3NLZXlJZCxcclxuICBzZWNyZXRBY2Nlc3NLZXk6IGNvbmZpZy5zZWNyZXRBY2Nlc3NLZXksXHJcbn0pO1xyXG5jb25zdCBzMyA9IG5ldyBhd3MuUzMoKTtcclxuY29uc3Qgc3RvcmFnZVMzID0gbXVsdGVyUzMoe1xyXG4gIHMzLFxyXG4gIGJ1Y2tldDogJ2FtYXpvbmEtYnVja2V0JyxcclxuICBhY2w6ICdwdWJsaWMtcmVhZCcsXHJcbiAgY29udGVudFR5cGU6IG11bHRlclMzLkFVVE9fQ09OVEVOVF9UWVBFLFxyXG4gIGtleShyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICBjYihudWxsLCBmaWxlLm9yaWdpbmFsbmFtZSk7XHJcbiAgfSxcclxufSk7XHJcbmNvbnN0IHVwbG9hZFMzID0gbXVsdGVyKHsgc3RvcmFnZTogc3RvcmFnZVMzIH0pO1xyXG5yb3V0ZXIucG9zdCgnL3MzJywgdXBsb2FkUzMuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHtcclxuICByZXMuc2VuZChyZXEuZmlsZS5sb2NhdGlvbik7XHJcbn0pO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_multerS","_awsSdk","_config","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","Date","now","upload","router","express","Router","post","single","res","send","path","aws","config","update","accessKeyId","secretAccessKey","s3","S3","storageS3","multerS3","bucket","acl","contentType","AUTO_CONTENT_TYPE","key","originalname","uploadS3","location","_default","exports"],"sourceRoot":"C:\\Users\\HP\\OneDrive\\Desktop\\node-react-ecommerce-master (1)\\node-react-ecommerce-master\\backend\\routes\\","sources":["uploadRoute.js"],"sourcesContent":["import express from 'express';\r\nimport multer from 'multer';\r\nimport multerS3 from 'multer-s3';\r\nimport aws from 'aws-sdk';\r\nimport config from '../config';\r\n\r\nconst storage = multer.diskStorage({\r\n  destination(req, file, cb) {\r\n    cb(null, 'uploads/');\r\n  },\r\n  filename(req, file, cb) {\r\n    cb(null, `${Date.now()}.jpg`);\r\n  },\r\n});\r\n\r\nconst upload = multer({ storage });\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/', upload.single('image'), (req, res) => {\r\n  res.send(`/${req.file.path}`);\r\n});\r\n\r\naws.config.update({\r\n  accessKeyId: config.accessKeyId,\r\n  secretAccessKey: config.secretAccessKey,\r\n});\r\nconst s3 = new aws.S3();\r\nconst storageS3 = multerS3({\r\n  s3,\r\n  bucket: 'amazona-bucket',\r\n  acl: 'public-read',\r\n  contentType: multerS3.AUTO_CONTENT_TYPE,\r\n  key(req, file, cb) {\r\n    cb(null, file.originalname);\r\n  },\r\n});\r\nconst uploadS3 = multer({ storage: storageS3 });\r\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\r\n  res.send(req.file.location);\r\n});\r\nexport default router;\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE/B,MAAMG,OAAO,GAAGC,eAAM,CAACC,WAAW,CAAC;EACjCC,WAAWA,CAACC,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACzBA,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC;EACtB,CAAC;EACDC,QAAQA,CAACH,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACtBA,EAAE,CAAC,IAAI,EAAG,GAAEE,IAAI,CAACC,GAAG,CAAC,CAAE,MAAK,CAAC;EAC/B;AACF,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAG,IAAAT,eAAM,EAAC;EAAED;AAAQ,CAAC,CAAC;AAElC,MAAMW,MAAM,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAE/BF,MAAM,CAACG,IAAI,CAAC,GAAG,EAAEJ,MAAM,CAACK,MAAM,CAAC,OAAO,CAAC,EAAE,CAACX,GAAG,EAAEY,GAAG,KAAK;EACrDA,GAAG,CAACC,IAAI,CAAE,IAAGb,GAAG,CAACC,IAAI,CAACa,IAAK,EAAC,CAAC;AAC/B,CAAC,CAAC;AAEFC,eAAG,CAACC,MAAM,CAACC,MAAM,CAAC;EAChBC,WAAW,EAAEF,eAAM,CAACE,WAAW;EAC/BC,eAAe,EAAEH,eAAM,CAACG;AAC1B,CAAC,CAAC;AACF,MAAMC,EAAE,GAAG,IAAIL,eAAG,CAACM,EAAE,CAAC,CAAC;AACvB,MAAMC,SAAS,GAAG,IAAAC,gBAAQ,EAAC;EACzBH,EAAE;EACFI,MAAM,EAAE,gBAAgB;EACxBC,GAAG,EAAE,aAAa;EAClBC,WAAW,EAAEH,gBAAQ,CAACI,iBAAiB;EACvCC,GAAGA,CAAC5B,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACjBA,EAAE,CAAC,IAAI,EAAED,IAAI,CAAC4B,YAAY,CAAC;EAC7B;AACF,CAAC,CAAC;AACF,MAAMC,QAAQ,GAAG,IAAAjC,eAAM,EAAC;EAAED,OAAO,EAAE0B;AAAU,CAAC,CAAC;AAC/Cf,MAAM,CAACG,IAAI,CAAC,KAAK,EAAEoB,QAAQ,CAACnB,MAAM,CAAC,OAAO,CAAC,EAAE,CAACX,GAAG,EAAEY,GAAG,KAAK;EACzDA,GAAG,CAACC,IAAI,CAACb,GAAG,CAACC,IAAI,CAAC8B,QAAQ,CAAC;AAC7B,CAAC,CAAC;AAAC,IAAAC,QAAA,GACYzB,MAAM;AAAA0B,OAAA,CAAAtC,OAAA,GAAAqC,QAAA"}},"mtime":1688310139753},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"filename\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\node-react-ecommerce-master (1)\\\\node-react-ecommerce-master\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nvar _default = {\n  PORT: process.env.PORT || 5000,\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZG90ZW52IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImRvdGVudiIsImNvbmZpZyIsIl9kZWZhdWx0IiwiUE9SVCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSTCIsIkpXVF9TRUNSRVQiLCJQQVlQQUxfQ0xJRU5UX0lEIiwiYWNjZXNzS2V5SWQiLCJzZWNyZXRBY2Nlc3NLZXkiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEhQXFxPbmVEcml2ZVxcRGVza3RvcFxcbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyICgxKVxcbm9kZS1yZWFjdC1lY29tbWVyY2UtbWFzdGVyXFxiYWNrZW5kXFwiLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XHJcblxyXG5kb3RlbnYuY29uZmlnKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgUE9SVDogcHJvY2Vzcy5lbnYuUE9SVCB8fCA1MDAwLFxyXG4gIE1PTkdPREJfVVJMOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9hbWF6b25hJyxcclxuICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdzb21ldGhpbmdzZWNyZXQnLFxyXG4gIFBBWVBBTF9DTElFTlRfSUQ6IHByb2Nlc3MuZW52LlBBWVBBTF9DTElFTlRfSUQgfHwgJ3NiJyxcclxuICBhY2Nlc3NLZXlJZDogcHJvY2Vzcy5lbnYuYWNjZXNzS2V5SWQgfHwgJ2FjY2Vzc0tleUlkJyxcclxuICBzZWNyZXRBY2Nlc3NLZXk6IHByb2Nlc3MuZW52LnNlY3JldEFjY2Vzc0tleSB8fCAnc2VjcmV0QWNjZXNzS2V5JyxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNEIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFNUJHLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBRUQ7RUFDYkMsSUFBSSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsSUFBSSxJQUFJLElBQUk7RUFDOUJHLFdBQVcsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsSUFBSSw2QkFBNkI7RUFDckVDLFVBQVUsRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFVBQVUsSUFBSSxpQkFBaUI7RUFDdkRDLGdCQUFnQixFQUFFSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0csZ0JBQWdCLElBQUksSUFBSTtFQUN0REMsV0FBVyxFQUFFTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0ksV0FBVyxJQUFJLGFBQWE7RUFDckRDLGVBQWUsRUFBRU4sT0FBTyxDQUFDQyxHQUFHLENBQUNLLGVBQWUsSUFBSTtBQUNsRCxDQUFDO0FBQUFDLE9BQUEsQ0FBQVosT0FBQSxHQUFBRyxRQUFBIn0=","map":{"version":3,"names":["_dotenv","_interopRequireDefault","require","obj","__esModule","default","dotenv","config","_default","PORT","process","env","MONGODB_URL","JWT_SECRET","PAYPAL_CLIENT_ID","accessKeyId","secretAccessKey","exports"],"sourceRoot":"C:\\Users\\HP\\OneDrive\\Desktop\\node-react-ecommerce-master (1)\\node-react-ecommerce-master\\backend\\","sources":["config.js"],"sourcesContent":["import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n  PORT: process.env.PORT || 5000,\r\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/amazona',\r\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret',\r\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\r\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\r\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey',\r\n};\r\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE5BG,eAAM,CAACC,MAAM,CAAC,CAAC;AAAC,IAAAC,QAAA,GAED;EACbC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACF,IAAI,IAAI,IAAI;EAC9BG,WAAW,EAAEF,OAAO,CAACC,GAAG,CAACC,WAAW,IAAI,6BAA6B;EACrEC,UAAU,EAAEH,OAAO,CAACC,GAAG,CAACE,UAAU,IAAI,iBAAiB;EACvDC,gBAAgB,EAAEJ,OAAO,CAACC,GAAG,CAACG,gBAAgB,IAAI,IAAI;EACtDC,WAAW,EAAEL,OAAO,CAACC,GAAG,CAACI,WAAW,IAAI,aAAa;EACrDC,eAAe,EAAEN,OAAO,CAACC,GAAG,CAACK,eAAe,IAAI;AAClD,CAAC;AAAAC,OAAA,CAAAZ,OAAA,GAAAG,QAAA"}},"mtime":1688310139619}}